{"ast":null,"code":"// client/src/Dashboard.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function Dashboard(_ref){let{operator}=_ref;const navigate=useNavigate();const[members,setMembers]=useState([]);useEffect(()=>{fetch('/api/members').then(response=>response.json()).then(data=>setMembers(data)).catch(error=>console.error('Error fetching members:',error));},[]);// 各学科ごとの部員数を集計\nconst departmentData=members.reduce((acc,member)=>{acc[member.department]=(acc[member.department]||0)+1;return acc;},{});const chartData={labels:Object.keys(departmentData),datasets:[{label:'部員数',data:Object.values(departmentData),backgroundColor:'rgba(75, 192, 192, 0.6)'}]};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u30C0\\u30C3\\u30B7\\u30E5\\u30DC\\u30FC\\u30C9\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u3088\\u3046\\u3053\\u305D\\u3001\",operator,\"\\u3055\\u3093\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Bar,{data:chartData})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/account-management'),children:\"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u7BA1\\u7406\\u3078\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/member-management'),children:\"\\u90E8\\u54E1\\u7BA1\\u7406\\u3078\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"})})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","Dashboard","_ref","operator","navigate","members","setMembers","fetch","then","response","json","data","catch","error","console","departmentData","reduce","acc","member","department","chartData","labels","Object","keys","datasets","label","values","backgroundColor","style","padding","children","marginBottom","onClick"],"sources":["C:/Users/mygoodnote/OneDrive - 東京都市大学 Tokyo City University/デスクトップ/work/React/LoginSystem/client/src/Dashboard.js"],"sourcesContent":["// client/src/Dashboard.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction Dashboard({ operator }) {\r\n  const navigate = useNavigate();\r\n  const [members, setMembers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('/api/members')\r\n      .then(response => response.json())\r\n      .then(data => setMembers(data))\r\n      .catch(error => console.error('Error fetching members:', error));\r\n  }, []);\r\n\r\n  // 各学科ごとの部員数を集計\r\n  const departmentData = members.reduce((acc, member) => {\r\n    acc[member.department] = (acc[member.department] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n\r\n  const chartData = {\r\n    labels: Object.keys(departmentData),\r\n    datasets: [\r\n      {\r\n        label: '部員数',\r\n        data: Object.values(departmentData),\r\n        backgroundColor: 'rgba(75, 192, 192, 0.6)'\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1>ダッシュボード</h1>\r\n      <p>ようこそ、{operator}さん</p>\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <Bar data={chartData} />\r\n      </div>\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button onClick={() => navigate('/account-management')}>アカウント管理へ</button>\r\n      </div>\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button onClick={() => navigate('/member-management')}>部員管理へ</button>\r\n      </div>\r\n      <div>\r\n        <button onClick={() => navigate('/')}>ログアウト</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}